<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>세종북부서 관제-대피소v2</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg: #000000; --card: #1c1c1e; --text: #ffffff; --sub: #8e8e93;
            --line: #2c2c2e; --blue: #0a84ff; --red: #ff453a; --green: #30d158;
        }
        body {
            background: var(--bg); color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, "Pretendard", sans-serif;
            margin: 0; padding: env(safe-area-inset-top) 15px 40px 15px;
            -webkit-tap-highlight-color: transparent;
        }
        h1 { font-size: 18px; font-weight: 700; margin: 15px 0; }

        /* 아코디언 섹션 */
        .accord-section { background: #1c1c1e; border-radius: 12px; overflow: hidden; margin-bottom: 10px; border: 1px solid var(--line); }
        .accord-header { background: #2c2c2e; padding: 12px 15px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .ah-title { font-size: 14px; font-weight: 600; display: flex; align-items: center; gap: 8px; }

        /* 필터 버튼 */
        .filter-group { display: flex; gap: 4px; overflow-x: auto; padding: 10px 15px; background: #1c1c1e; }
        .filter-btn { 
            background: #3a3a3c; border: none; color: #aaa; padding: 5px 10px; 
            border-radius: 12px; font-size: 11px; white-space: nowrap; flex-shrink: 0;
        }
        .filter-btn.active { background: var(--blue); color: white; }

        /* 대피소 그리드 (한 줄에 4개) */
        .shelter-grid { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 6px; padding: 10px;
        }
        .shelter-item {
            background: #2c2c2e; border-radius: 8px; padding: 8px 4px;
            text-align: center; display: flex; flex-direction: column; 
            justify-content: center; align-items: center; cursor: pointer;
            border: 1px solid transparent; transition: 0.2s;
        }
        .shelter-item:active { background: #3a3a3c; border-color: var(--blue); }
        
        .s-name { 
            font-size: 10px; font-weight: 600; color: #eee; 
            line-height: 1.2; word-break: keep-all; 
            display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
        }
        .s-cap { font-size: 9px; color: var(--blue); margin-top: 4px; font-weight: bold; }
        .s-map-icon { font-size: 12px; color: var(--green); margin-bottom: 4px; }

        /* 하단 안내 */
        .guide-text { font-size: 10px; color: var(--sub); text-align: center; margin-top: 10px; }
    </style>
</head>
<body>

<header>
    <h1><i class="fas fa-shield-halved"></i> 세종북부경찰서 대피시설</h1>
</header>

<div class="accord-section">
    <div class="accord-header">
        <div class="ah-title"><i class="fas fa-house-chimney-user"></i> 면별 대피소 현황</div>
        <div id="count-tag" style="font-size:11px; color:var(--blue);">69개소</div>
    </div>
    
    <div class="filter-group">
        <button class="filter-btn active" onclick="filterShelter('전체', this)">전체</button>
        <button class="filter-btn" onclick="filterShelter('조치원', this)">조치원</button>
        <button class="filter-btn" onclick="filterShelter('연서', this)">연서</button>
        <button class="filter-btn" onclick="filterShelter('전의', this)">전의</button>
        <button class="filter-btn" onclick="filterShelter('전동', this)">전동</button>
        <button class="filter-btn" onclick="filterShelter('소정', this)">소정</button>
        <button class="filter-btn" onclick="filterShelter('부강', this)">부강</button>
        <button class="filter-btn" onclick="filterShelter('연동', this)">연동</button>
    </div>

    <div id="shelter-list" class="shelter-grid">
        </div>
</div>

<div class="guide-text">※ 시설 클릭 시 카카오맵 길찾기(현위치 기준)로 바로 연결됩니다.</div>

<script>
    // 제공된 이미지 데이터 기반 (총 69개소)
    const shelterData = [
        { area:'조치원', name:'조치원 복컴', addr:'세종특별자치시 조치원읍 대첩로 76', cap:162 },
        { area:'조치원', name:'조치원읍사무소', addr:'세종특별자치시 조치원읍 새내16길 17', cap:63 },
        { area:'조치원', name:'교동초교', addr:'세종특별자치시 조치원읍 새내18길 21', cap:417 },
        { area:'조치원', name:'대동초교', addr:'세종특별자치시 조치원읍 대동학교길 11', cap:465 },
        { area:'조치원', name:'명동초교', addr:'세종특별자치시 조치원읍 새내8길 115', cap:177 },
        { area:'조치원', name:'세종여고', addr:'세종특별자치시 조치원읍 봉산로 16', cap:152 },
        { area:'조치원', name:'신봉초교', addr:'세종특별자치시 조치원읍 서북부로 10', cap:262 },
        { area:'조치원', name:'번암1리 경로당', addr:'세종특별자치시 조치원읍 군청로 11', cap:19 },
        { area:'조치원', name:'두진(아)경로당', addr:'세종특별자치시 조치원읍 모과나무길 31', cap:23 },
        { area:'조치원', name:'e편한세상 경로당', addr:'세종특별자치시 조치원읍 섭골길 59', cap:66 },
        { area:'조치원', name:'신안2리 경로당', addr:'세종특별자치시 조치원읍 안터길 83', cap:19 },
        { area:'조치원', name:'신흥e편한 경로당', addr:'세종특별자치시 조치원읍 이화1로 15', cap:19 },
        { area:'조치원', name:'신흥주공 경로당', addr:'세종특별자치시 조치원읍 이화로 5', cap:54 },
        { area:'조치원', name:'신흥푸르지오', addr:'세종특별자치시 조치원읍 도원1로 16', cap:26 },
        { area:'조치원', name:'자이(아)경로당', addr:'세종특별자치시 조치원읍 도원로 16', cap:62 },
        { area:'조치원', name:'조형(아)경로당', addr:'세종특별자치시 조치원읍 운주산로 60', cap:13 },
        { area:'조치원', name:'남리마을회관', addr:'세종특별자치시 조치원읍 장안로 37', cap:26 },
        { area:'조치원', name:'세종고교', addr:'세종특별자치시 조치원읍 조치원중고길 10', cap:411 },
        { area:'조치원', name:'세종중학교', addr:'세종특별자치시 조치원읍 새내로 160', cap:231 },
        { area:'연동', name:'연동면 복컴', addr:'세종특별자치시 연동면 장욱로 7', cap:195 },
        { area:'연동', name:'연동중학교', addr:'세종특별자치시 연동면 내판로 10-13', cap:320 },
        { area:'연동', name:'연동초교', addr:'세종특별자치시 연동면 청연로 606-36', cap:119 },
        { area:'연동', name:'내판4리 회관', addr:'세종특별자치시 연동면 새말다복동길 31-9', cap:27 },
        { area:'연동', name:'명학2리 회관', addr:'세종특별자치시 연동면 태산로 88-12', cap:15 },
        { area:'연동', name:'문주리 회관', addr:'세종특별자치시 연동면 간말길 6', cap:30 },
        { area:'연동', name:'예양2리 회관', addr:'세종특별자치시 연동면 강변길 119-1', cap:30 },
        { area:'연동', name:'응암2리 회관', addr:'세종특별자치시 연동면 응암노곡길 2', cap:28 },
        { area:'부강', name:'부강면사무소', addr:'세종특별자치시 부강면 부강5길 38', cap:91 },
        { area:'부강', name:'부강중학교', addr:'세종특별자치시 부강면 부강로 25-7', cap:443 },
        { area:'부강', name:'부강초교', addr:'세종특별자치시 부강면 부강로 15', cap:326 },
        { area:'부강', name:'세종미래고', addr:'세종특별자치시 부강면 문곡달미길 6', cap:308 },
        { area:'부강', name:'등곡1리 경로당', addr:'세종특별자치시 부강면 등곡1길 160-22', cap:23 },
        { area:'부강', name:'부강6리 회관', addr:'세종특별자치시 부강면 부강4길 28', cap:42 },
        { area:'부강', name:'부강4,5리 회관', addr:'세종특별자치시 부강면 부촌길 12-1', cap:42 },
        { area:'부강', name:'부강3리 회관', addr:'세종특별자치시 부강면 부강5길 11', cap:115 },
        { area:'연서', name:'연서면사무소', addr:'세종특별자치시 연서면 대첩로 238', cap:61 },
        { area:'연서', name:'도원초교', addr:'세종특별자치시 연서면 도원로 63', cap:166 },
        { area:'연서', name:'쌍류초교', addr:'세종특별자치시 연서면 별발길 73', cap:325 },
        { area:'연서', name:'연봉초교', addr:'세종특별자치시 연서면 당산로 357-1', cap:278 },
        { area:'연서', name:'연서중학교', addr:'세종특별자치시 연서면 연서로 115', cap:346 },
        { area:'연서', name:'연서초교', addr:'세종특별자치시 연서면 연서로 148', cap:227 },
        { area:'연서', name:'고복1리 회관', addr:'세종특별자치시 연서면 도신고복로 1061', cap:18 },
        { area:'연서', name:'국촌2리 회관', addr:'세종특별자치시 연서면 함박로 130', cap:18 },
        { area:'연서', name:'부동리 회관', addr:'세종특별자치시 연서면 용연로 853', cap:32 },
        { area:'연서', name:'쌍전리 회관', addr:'세종특별자치시 연서면 큰창고개길 3-3', cap:11 },
        { area:'연서', name:'와촌1리 회관', addr:'세종특별자치시 연서면 용연로 759', cap:10 },
        { area:'연서', name:'월하1리 회관', addr:'세종특별자치시 연서면 대첩로 204', cap:44 },
        { area:'연서', name:'월하2리 회관', addr:'세종특별자치시 연서면 작은창고개길 16-3', cap:10 },
        { area:'전의', name:'전의면 복컴', addr:'세종특별자치시 전의면 운주산로 1276', cap:223 },
        { area:'전의', name:'전의중학교', addr:'세종특별자치시 전의면 운주산로 1260-6', cap:376 },
        { area:'전의', name:'전의초교', addr:'세종특별자치시 전의면 운주산로 1204-9', cap:223 },
        { area:'전의', name:'관정1리 경로당', addr:'세종특별자치시 전의면 군량골길 48', cap:25 },
        { area:'전의', name:'달성학구 경로당', addr:'세종특별자치시 전의면 압실길 2', cap:16 },
        { area:'전의', name:'달전1리 경로당', addr:'세종특별자치시 전의면 윗다락골길 46', cap:21 },
        { area:'전의', name:'신흥리 경로당', addr:'세종특별자치시 전의면 사시리길 34', cap:25 },
        { area:'전의', name:'유천1리 경로당', addr:'세종특별자치시 전의면 오류골길 112', cap:23 },
        { area:'전의', name:'읍내1리 경로당', addr:'세종특별자치시 전의면 북양천길 5', cap:21 },
        { area:'전의', name:'전의면사무소', addr:'세종특별자치시 전의면 운주산로 1270', cap:71 },
        { area:'전동', name:'전동면 복컴', addr:'세종특별자치시 전동면 운주산로 386', cap:294 },
        { area:'전동', name:'전동초교', addr:'세종특별자치시 전동면 하노장3길 9', cap:153 },
        { area:'전동', name:'전동분회 경로당', addr:'세종특별자치시 전동면 하노장1길 35', cap:28 },
        { area:'전동', name:'미곡1리 회관', addr:'세종특별자치시 전동면 운주산로 946-2', cap:30 },
        { area:'전동', name:'봉대리 회관', addr:'세종특별자치시 전동면 봉대2길 17', cap:23 },
        { area:'전동', name:'송성3리 회관', addr:'세종특별자치시 전동면 성곡새말길 14-19', cap:78 },
        { area:'소정', name:'소정면사무소', addr:'세종특별자치시 소정면 소정구길 204', cap:50 },
        { area:'소정', name:'소정초교', addr:'세종특별자치시 소정면 학교말길 10', cap:185 },
        { area:'소정', name:'맹골경로당', addr:'세종특별자치시 소정면 맹골1길 13-4', cap:23 },
        { area:'소정', name:'소정1리 경로당', addr:'세종특별자치시 소정면 학교말길 1', cap:29 },
        { area:'소정', name:'운당2리 경로당', addr:'세종특별자치시 소정면 운당넘어말길 29', cap:25 }
    ];

    window.onload = () => renderShelter('전체');

    function renderShelter(filterArea) {
        const container = document.getElementById('shelter-list');
        container.innerHTML = '';
        const filtered = filterArea === '전체' ? shelterData : shelterData.filter(s => s.area === filterArea);
        
        filtered.forEach(s => {
            const div = document.createElement('div');
            div.className = 'shelter-item';
            // 카카오맵 길찾기 URL (목적지 주소 및 이름 포함)
            const kakaoUrl = `https://map.kakao.com/link/to/${encodeURIComponent(s.name)},${encodeURIComponent(s.addr)}`;
            
            div.onclick = () => window.open(kakaoUrl, '_blank');
            div.innerHTML = `
                <i class="fas fa-location-arrow s-map-icon"></i>
                <div class="s-name">${s.name}</div>
                <div class="s-cap">${s.cap}명</div>
            `;
            container.appendChild(div);
        });
        document.getElementById('count-tag').innerText = `${filtered.length}개소`;
    }

    function filterShelter(area, btn) {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        renderShelter(area);
    }
</script>
</body>
</html>
